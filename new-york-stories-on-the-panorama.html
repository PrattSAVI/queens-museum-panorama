<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Queens Museum - New York Stories on the Panorama!</title>
  <link rel="stylesheet" type="text/css" href="css/panorama.css">
  <link rel="stylesheet" type="text/css" href="css/explore.css">
  <link rel="stylesheet" type="text/css" href="css/new-york-stories-on-the-panorama.css">
  <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.js"></script>
  <link
    href="https://api.tiles.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.css"
    rel="stylesheet"
  />
  <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.min.js"></script>
  <link
    rel="stylesheet"
    href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.css"
    type="text/css"
  />
</head>
<body class="section-4">
  <div class="full-page">
    <div class="content full-page-height">
      <div class="content-block full-page-height">
        <div class="header">
          <h1>New York Stories on <span class="text-italics">the Panorama!</span></h1>
          <panorama-nav
            back-url="zoom-to-the-panorama.html"
            forward-url="credits.html"
            explore-button
          >
          </panorama-nav>
        </div><!-- header -->
        <div id="map" class="full-page-below-header">
          <div id="add-story">
            <h2>Add your favorite New York City memory to the Digital Twin</h2>
            <div id="geocoder" class="geocoder"></div>
            <div id="your-story-and-submit"><!-- Hidden until the user searches for and selects a location -->
              <textarea id="your-story" name="your-story" cols="40" rows="5" placeholder="Share your story here"></textarea>
              <input type="checkbox" id="publish-your-name" name="publish-your-name" checked />
              <label for="publish-name">Ok to publish name?</label>
              <input type="text" id="your-name" name="your-name" required placeholder="Name (optional)" autocorrect="off" autocomplete="off"/>
              <div id="submit-container">
                <input type="button" value="Submit" onclick="submitStory()"/>
                <!-- Free icon from https://loading.io/ -->
                <img id="submit-progress" class="hidden" src="images/dual-ring-0.7s-21px.gif"/>
                <div id="submit-success-container" class="hidden">
                  <!-- from https://icons.getbootstrap.com/icons -->
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="green" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                  </svg>
                  <span id="submit-success-message"></span>
                </div>
                <div id="submit-error-container" class="hidden">
                  <!-- from https://icons.getbootstrap.com/icons -->
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="red" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16">
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
                  </svg>
                  <span id="submit-error-message"></span>
                </div>
              </div>
              <p>Once submitted, your story will be reviewed by our team and posted within one week (subject to community + privacy guidelines).</p>
            </div><!-- your-story-and-submit -->
            <p id="see-other-stories">See other stories; click on the markers</p>
          </div><!-- add-story -->
          <div id="selected-location">

          </div> <!-- selected-location -->
        </div><!-- map -->
      </div><!-- content-block -->
    </div><!-- content -->
  </div><!-- full-page-height-container -->
  <script type="module" src="./components/panorama-components.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="./js/your-story.js"></script>
</body>
</html>